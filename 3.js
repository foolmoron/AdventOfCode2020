input = [
    '.#...#.......#...#...#.#.#.....',
    '####.....#.#..#...#...........#',
    '.....#...........#......#....#.',
    '......#..#......#.#..#...##.#.#',
    '............#......#...........',
    '...........#.#.#....#.......##.',
    '....#.......#..............#...',
    '........##...#.#.....##...##.#.',
    '.#.#.....##................##..',
    '.##................##..#...##..',
    '....#...###...##.........#....#',
    '.##......#.........#...........',
    '...#.#.#....#....#...#...##...#',
    '..#....##...#..#.#..#.....#.#..',
    '.......#...#..#..#.....#...#..#',
    '.....#......#.......#.....#.#..',
    '....#..#...#..#####....##......',
    '.#...........#......#....#....#',
    '#......#.###.....#....#....#...',
    '....#..#.#.#..#...........##...',
    '..#..#..#.#...#......#....#.##.',
    '.##....#......#...#.#..#.......',
    '..###.#...#.........#.#.#...#.#',
    '#....###.........#...#...#...#.',
    '...##.#............#...##......',
    '...#.........#............#....',
    '......##...#...##..#...........',
    '........##..#.#.####...#.....#.',
    '.##.........#......#..#..#...#.',
    '..........#...#..........#.....',
    '#..........#........#..#..#.#..',
    '..#....#.#.#.#.#..#.##.........',
    '##.#.#.##.....#..#......###....',
    '##....#...#.....#..............',
    '.#..#...#...#....###......#....',
    '#....#......#.#..#.#........###',
    '.#....#..#...###....#...##.....',
    '.#....#.....#.....#..##..#.....',
    '#....#.##...#...#..#.##.##.#...',
    '.#.#.#.##...#####.............#',
    '......##..#.....##..#...####...',
    '#.##..#.#....#..##.......###..#',
    '..#.......##....#........#.##..',
    '#.....#......#.....#....#..#...',
    '.......##...#.....##.......#..#',
    '.......#...#.#.#.........#####.',
    '#.......#.##..##........##.....',
    '##..#...#........##....#.......',
    '.......#...##......##...##.##..',
    '......#..##..#.#...#...#....##.',
    '....#.#..#.....#.##.#.....#.#..',
    '#..#.#.#........#...#.......##.',
    '##...........#..#........#.....',
    '....##....#....#.#.......#.....',
    '....##.#.#.....#.#.....#.....#.',
    '..........#.#..##..#..#.......#',
    '#....#.......##...#...#.....#..',
    '.........##.....#.#....#......#',
    '..........#........#..#..#.#...',
    '..#......#.....#......#......#.',
    '..#...###..##..#.....##..#..##.',
    '..#.#..###.........#.#...##.#.#',
    '#.........#..#......#...##.....',
    '...#...#.#..#...##.#...##.#..#.',
    '#.....#.....#.##....#.#......#.',
    '#....##..##..#.#..##....#.....#',
    '.#..........#..#...#..#.......#',
    '#.#.....#..##..##..#.#.........',
    '....#..##...#.....#.....#.#.#.#',
    '...#.#....#........#...#.#.....',
    '.#............#.......#.##.#...',
    '..##.......#.#...#........##..#',
    '..................##.#...#.#..#',
    '.#.........#.......#.....#.....',
    '....##...##..#..........#......',
    '..#.##..#....#..#............#.',
    '....####...#.##....##.#....#.##',
    '#..#....#......##........##....',
    '..###...........##..#......#...',
    '#..#.......#........#.......#..',
    '.....#....#..#..##.....#.......',
    '.###.####.#....#....#..#.......',
    '.............#...............#.',
    '.#..........#.#....#..#.#......',
    '..............##....#..#....##.',
    '.......#.#..#........#.......##',
    '#..#...#..#.#........#..#....#.',
    '...#.........#...#..#..........',
    '...#....##...#..#..........#...',
    '.#......#......##..##...#.#....',
    '.#.........#..###..............',
    '.................#.#.....##....',
    '...#............#..............',
    '#..#................#.......#..',
    '...#.......#......#.#.#........',
    '#.....#.##....#.....#........#.',
    '......##.#....#........#....#..',
    '.#..#.##...##........#.#.....#.',
    '..#...#....#...#..#..##..#.#..#',
    '#.................#.#.......##.',
    '..........#........#.#.....#..#',
    '#....##....#........##..##.#...',
    '#...#....#.....#.....#.....#...',
    '#..#..........#....##....#....#',
    '..#.#..#..#....#.#....#....#..#',
    '#....#..#.......#..........#...',
    '.#...#.#...#..#...#.......#....',
    '###........#......##..#...##...',
    '...#..........##..............#',
    '.......#........##......#.....#',
    '.#..........#...#...##....###.#',
    '.#...#....#..#.....##...#..##..',
    '.#.#.#...##..........##...#...#',
    '.#.....#...#........#........##',
    '#.......#......##.#.#..#....#..',
    '##..#.##........#....#..#......',
    '...#.......................#...',
    '..#....#..##........##.#.##.#..',
    '.............#.......#....#.#.#',
    '...#...........##..#.....#.....',
    '..#....##....#.....#...........',
    '..#.....#......#..#.###.##....#',
    '.#.......#...........#...#....#',
    '#............##...#...#.....#..',
    '##...#.....#.........##...##...',
    '...#...........#....##.........',
    '#.##..#..........##..#......#..',
    '.......#.#.......##.......#....',
    '..#.....##..#...#.......#......',
    '.#........#....##...........#..',
    '#.......#...#.#.###...#....#...',
    '..........##..#..#..##........#',
    '#....#....#...#....#....#......',
    '...........#....#...#...##.#...',
    '.........#.#.....#.............',
    '..####...........##..........#.',
    '.....#...................#.....',
    '#..##...#........#.###.#.##....',
    '....##...#.##................#.',
    '.#........###.#............#.#.',
    '..............#.##.........#...',
    '##............#.#..###....#...#',
    '#.....#........####....#....##.',
    '....##..#...##..##...##.....#..',
    '##..#....#.##.....####.....#.##',
    '##..#....#.##.##.#.#........#..',
    '....#..........##.....#..#..#..',
    '...#.......#........#.........#',
    '#..##.######.......##........#.',
    '###...#...####.......#.....#...',
    '#......#..#.....#......#.....#.',
    '..................##...#.......',
    '....#.#....#......#...#.....##.',
    '..#..#..#..#..#....#.#...#....#',
    '......#....###.................',
    '#.##......#...#......#.........',
    '#..#.#...##..#.......#..#...#..',
    '.#....#.#........#.........#...',
    '#.......##..#..#...............',
    '........#..##....#.....#..#....',
    '....#......##..#....#...#..#...',
    '#.....#...##..#...#......#.....',
    '.....#.....#.........##...#..#.',
    '........#...##.#...#.#....#..##',
    '....#....#...#.....##..#...#...',
    '#....#..#.........#.........###',
    '..###.....##...#.#....##......#',
    '#..#.#..#.......#..#....##.....',
    '###...#.##..#.......#......#...',
    '.....#.....##.......#...##..#..',
    '......#.......#.#.#......#..#..',
    '.................##..#.###.....',
    '..........#....#...#..........#',
    '...#.#...#.#..##.....#.#.##..#.',
    '.......#..#....#...#......###..',
    '...##..........#..#.....#....#.',
    '.#..##..###...#....##.....#....',
    '..#.#..............#....#...#..',
    '.....####.......#.#.##....#....',
    '#.#.#..##.##.#..#.##.#....#..#.',
    '........#....#.......##........',
    '...#...#....#...###.....###....',
    '.....#..#..........##.#...##.##',
    '..#.#.#..#....#...#..##...#...#',
    '..#......#..#.#.....#....#....#',
    '.#.....#.......#............#..',
    '#..##....#...#....##....#......',
    '#..#.........#...#...###.#..#..',
    '..#.#.#..#.#..#.......##.......',
    '...##...............#..#...#.#.',
    '.......####.#.....#..#..#......',
    '......#..#.....#..##....#......',
    '....#...#.........##.......#.#.',
    '#.#.#...#.....#...#..#.#..#....',
    '........#..#.........#..#..##..',
    '........###.#............#.#...',
    '#..#.......#.#..#.......#...#.#',
    '..##..............#.#.....#...#',
    '..##...........................',
    '..#.....#.......#......##......',
    '#...#......##.#....#.#.#...##.#',
    '#...#.#......#.#..##.........#.',
    '.##..#...#.#.....#.#.#...#.#..#',
    '.#..#...#.#.........#......#...',
    '...........#...#...#...#..#.#..',
    '.#........#...#......##...#.###',
    '#........#..#.#..#...........##',
    '.#...#...####.......#..........',
    '......#...............#........',
    '.....#.#.....#.#...#......#....',
    '.#........#...........#..##.#..',
    '....#..#.....###.......#...#...',
    '#.#.........#...##..#.#.##.#...',
    '................##.#....#.#...#',
    '.......#.......#......#...#....',
    '#....#.#..............#.##..###',
    '..##.##..#.....#............#..',
    '#....#..##........#....#.......',
    '.#.#........#.#................',
    '......##..#..#..........#..#.#.',
    '.....##.#..#....##.#......##...',
    '........###.#................#.',
    '#..###.....#.###.#...#.#.......',
    '.#..#.#.#.#..#..#.#.....#.#....',
    '#....#.....#..#......##...#..##',
    '........#...##..#.#.....#....#.',
    '.......#..#..#..#....#.....##..',
    '....#..##..#...#....#.........#',
    '#.#....#..#.#...#.#...#....#...',
    '.....#......###.......#..##.#.#',
    '.......##.....#....#........#.#',
    '.##.##..#..###.#....#.#.....#..',
    '..##.#.......###.........#.....',
    '.#...#......#..#....#..........',
    '.....#........#.....##...#.....',
    '..#......#.#.#..#.#....##.#...#',
    '#.#...#...........##......#....',
    '.................##.....#.#.##.',
    '###..#....#..................#.',
    '##..#.#.#...#....###.#.#...##.#',
    '#.#.#..#....#..............#...',
    '.....#....#......#..#.##.......',
    '#...#...#..###.......#.......#.',
    '.....#.#........#..#...#.#.....',
    '.....#..........#.###.......#..',
    '...#.##.....#....###.....#.....',
    '####........#....#..#.#.##.#...',
    '#......#...##.....#.#..##.#.#.#',
    '.....##....#..#.........##.....',
    '..##....##................##..#',
    '#.....#...##...##.#.....#...#..',
    '..#..#.#.#....#.#.......#......',
    '##.....##......#...#.........#.',
    '#..........#........#.#......#.',
    '.#..#.......#.#.....#..........',
    '.........#.#.......#.#..#..#..#',
    '#......#....#....#..##..##...##',
    '.....#..#...#.......#.....##...',
    '..#.##........#.###...#...#...#',
    '..#..#...........#..........#..',
    '.#.#.#...#.##.#..............#.',
    '....#..##.......#.....#..##..#.',
    '.#.##.#....##........#...##.##.',
    '...#.#...#....#....#......#####',
    '.....#.....##...........#......',
    '#........#.##.......#.#.......#',
    '#...#.......##.#.......#..#.#..',
    '#...##..#....#............#.#..',
    '........#.#..#...#..#...##..##.',
    '#...#....#............#........',
    '#.#.#.#.#....##.....##.........',
    '......##.........#.......#.#..#',
    '...#.#....#........#...........',
    '...#.#.......#.....#...........',
    '##....####......##.##..#.......',
    '#......#...#..#.#..#......#..#.',
    '#......#.#....#....#..#........',
    '..#.###...#.....#........#.#...',
    '..#.....##.....###....#.....#..',
    '#.##.#.....##....#...###.......',
    '###.#....###.#..##.#.......##.#',
    '#..#..##...#.#..........##.##..',
    '.......####.#..#.....##..###...',
    '#...#...##..#..##.......###....',
    '#....#.........##..#.........#.',
    '.....#.#..........#..#...#.#..#',
    '..........#......##..#..#.#....',
    '.#...#...#...#........###....##',
    '#....#.##..........#.#.....#.#.',
    '#....##.#.##..#.......#.#.....#',
    '.##..##..#.#...#.#...........#.',
    '....##..#...#.#.##.#.#...#.....',
    '.#...#.##........#.##..#.#....#',
    '.#.....##.........#.....#......',
    '..#.....#.#..#.##.............#',
    '##....##...#....##........#....',
    '.#....#........#.#..#..#..#.##.',
    '.#........#............#.......',
    '.#..##..##..#..#..####....#....',
    '..#.###....#..#.##......#.#...#',
    '.###..#.#...##....##....#..##.#',
    '....##........#....#.#.#...##..',
    '...#..#....#.#....#...#.#.....#',
    '...##....##..#....#.........#..',
    '.....#..##.###..#.....####.....',
    '...#..#.........#....#.#.##..#.',
    '...#..#...............#..#....#',
    '...........#.....#...####..##.#',
    '..#......#...#....#..#...##.#..',
    '.....#..#...........#.......#.#',
    '##....###...#.........#....#...',
    '...#..##.......#.#.....##....#.',
    '#.#...#.#....#.....#...##.....#',
    '.#...##....#.....#..##.......#.',
    '...#........##..........#.....#',
    '#...##..#.#....###...#..#......',
    '............#.......#......#.#.',
    '......#....#.#...#...#..#......',
    '.#..#......#....#.......#....##',
    '...#...#.......###..###...#....',
    '.............#.#...#..###.....#',
    '.#.....#........#...##....#..#.',
    '.....#.......#######.#.#...#...',
]

function countTrees(trees, pX, pY, vX, vY) {
    let hits = 0
    while (pY >= 0 && pY < trees.length) {
        if (trees[pY][pX] === '#') {
            hits++
        }
        pX = (pX + vX) % trees[pY].length
        pY += vY
    }
    return hits
}

console.log(countTrees(input, 0, 0, 3, 1))

const all = [
    countTrees(input, 0, 0, 1, 1),
    countTrees(input, 0, 0, 3, 1),
    countTrees(input, 0, 0, 5, 1),
    countTrees(input, 0, 0, 7, 1),
    countTrees(input, 0, 0, 1, 2),
]
const mult = all.reduce((acc, i) => acc * i, 1)
console.log(mult)